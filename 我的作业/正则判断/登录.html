<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			.form{
				margin: 100px auto;
				text-align: center;
			
			}
			
			i{
				color: red;
				font-size: 12px;
				display: none;
			}
		</style>
	</head>
	<body>
		<form action="#" class="form">
	    <span>请输入账号：</span><input type="text" name="user" />&nbsp;<i>*格式错误</i><br />
		<span>请输入密码：</span><input type="text" name="psd"/>&nbsp;<i>*格式错误</i><br />
		<span>请输入手机：</span><input type="text" name="tel"/>&nbsp;<i>*格式错误</i><br />
		<span>请输入邮箱：</span><input type="text" name="eiml"/>&nbsp;<i>*格式错误</i><br />
	      <button type="submit" />提交</button>
		</form>
	</body>
	<script>
		
		var btn = document.getElementsByTagName('button')[0]
		var iarr = document.getElementsByTagName('i')
		var oForm = document.getElementsByTagName('form')[0]
		var inp = document.getElementsByTagName('input')
		      btn.onsubmit = function(){
		      	for( i = 0; i < inp.length; i++){
		      		inp[i].index = i
		      		if(inp[i].value == '' || inp[i].value == false){
		      			break	
		      			return false
		      			alert('错了')
		      		}
		      	}
		      }
		  	  oForm.user.onblur = function(){
		  	  	var reg1 = /^[a-zA-Z][0-9a-zA-Z]*\d+/;
		  	  	if(reg1.test(oForm.user.value)){
		  	  		trueVal(0);
		  	  		
		  	  	}else{
		  	  		falseVal(0);
		  	  	}
		  	  }
		    oForm.psd.onblur = function(){
		    	 var reg2 = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{5,10}$/;
		    	if(reg2.test(oForm.psd.value)){
		    		trueVal(1);
		    	}else{
		    		falseVal(1);
		    	}
		    }
		  
		  oForm.tel.onblur = function(){
		  	 var reg3 = /^1(3|4|5|7|8)\d{9}$/;
		      if(reg3.test(oForm.tel.value)){
		    		trueVal(2);
		    	}else{
		    		falseVal(2);
		    	}
		     }
		   
		    oForm.eiml.onblur = function(){
		    	  var reg4 = v= /^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;
		      if(reg4.test(oForm.eiml.value)){
		    		trueVal(3);
		    	}else{
		    		falseVal(3);
		    	}
		     }
		   
		  
                 function trueVal(num){
                 	 iarr[num].style.display = 'inline';
                     iarr[num].innerHTML = '*合法';
                     iarr[num].style.color = 'green';
                 }
                 function falseVal(num){
                 	 iarr[num].style.display = 'inline';
                 	 
                     iarr[num].innerHTML = '*格式错误';
//                   iarr[num].style.color = ''
                 }
	</script> 
</html>
