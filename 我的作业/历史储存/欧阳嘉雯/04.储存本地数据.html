<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			.box{
				width: 400px;
				height: 300px;
				border: 1px solid black;
				padding: 20px;
			}
			h3{
				text-align: center;
			}
			input{
				margin: 5px;
			}
			.self{
				display: block;
				margin-right: 5px;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<h3>学员信息登记</h3>
		  姓名:<input type="text" placeholder="请输入名字">
		  <br />
		  密码：<input type="password" placeholder="请输入密码">
		  <br />
		  性别：男<input name='sex' type="radio">
			   女<input name='sex' type="radio">
		  <br />
		  兴趣爱好：吃<input type="checkbox">    
				  喝<input type="checkbox">  
				  玩<input type="checkbox">  
				  乐<input type="checkbox">
		  <br />        
		  所在年级：<select>
			  <option value="高一">高一</option>
			  <option value="高二">高二</option>
			  <option value="高三">高三</option>
		  </select>
		  <br />
		  <br />
		  学员评价： 
		  <br />
		  <textarea ></textarea>
		</div>
	</body>
	<script type="text/javascript">
		var formStr = 'input,textarea,select';
		function setLocalStorage () {
			var formArr = document.querySelectorAll(formStr);
			for(var i=0;i<formArr.length;i++){
				if(formArr[i].type == 'checkbox' || formArr[i].type == 'radio'){
					localStorage.setItem('form'+i,formArr[i].checked)
				}else{
					localStorage.setItem('form'+i,formArr[i].value);
				}
			}
		}

		function formChange () {
			var formArr = document.querySelectorAll(formStr);
			for(var i=0;i<formArr.length;i++){
				if(formArr[i].type == 'checkbox' || formArr[i].type == 'radio' || formArr[i].tagName == 'SELECT'){
					formArr[i].onchange = function () {
						setLocalStorage();
					}
				}else{
					formArr[i].onkeyup = function () {
						setLocalStorage();
					}
				}
			}
		}

		function getLocalStorage () {
			var formArr = document.querySelectorAll(formStr);
			if(!localStorage.getItem('form0')){
				return;
			}
			for(var i=0;i<formArr.length;i++){
				if(formArr[i].type == 'checkbox' || formArr[i].type == 'radio'){
					var checked = localStorage.getItem('form'+i) == 'false' ? false : true;
					formArr[i].checked = checked;
				}else{
					formArr[i].value = localStorage.getItem('form'+i);
				}
			}
		}

		getLocalStorage();
		formChange();
	</script>
</html>
