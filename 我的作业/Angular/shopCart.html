<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title></title>
	<style type="text/css">
	
	</style>
</head>

<body>
	<!--
			1、全选按钮的监听
			2、每一个商品中的复选框 都应该被监听
			3、单个商品的数量的加法
			4、单个商品的数量的减法
			5、数量的额手动输入
			6、总价的联动
		-->



</body>
<script src="./js/vue.js"></script>
<script type="text/javascript">
	var app = new Vue({
		el: "#app",
		data: {
			allChecked: false,
			num: 0,
			cart: [{
				"id": "00001",
				"name": "施华蔻伊采染发膏60ml",
				"thumbnail": "https:\/\/fjlyl.xyz\/assets\/hairDye\/products (1).jpg",
				"reduct_price": "26",
				"num": 1,
				"isChecked": false
			}, {
				"id": "00002",
				"thumbnail": "https:\/\/fjlyl.xyz\/assets\/hairDye\/products (2).jpg",
				"name": "施华蔻伊采染发膏100ml",
				"reduct_price": "69",
				"num": 1,
				"isChecked": false
			}]
		},
		methods: {
			sub: function (index) {
				this.cart[index].num > 0 ? this.cart[index].num-- : this.cart[index].num
			},
			add: function (index) {
				this.cart[index].num++
			},
			allChange: function () {
				for (var i = 0; i < this.cart.length; i++) {
					this.cart[i].isChecked = this.allChecked
				}
			},
			sigChange: function () {
				var checked = true;
				for (var i = 0; i < this.cart.length; i++) {
					if (this.cart[i].isChecked == false	) {
						checked = this.cart[i].isChecked

					}

				}
				this.allChecked = checked
			},
			calcNum: function (index) {
				var inpNum = parseInt(this.cart[index].num)
				inpNum = isNaN(inpNum) ? 1 : inpNum
				inpNum = inpNum < 0 ? 0 : inpNum
				this.cart[index].num = inpNum

			}


		},
		computed: {
			total: function () {
				var num = 0;
				for (var i = 0; i < this.cart.length; i++) {
					if (this.cart[i].isChecked) {
						num += parseFloat(this.cart[i].reduct_price) * this.cart[i].num
					}
				}
				console.log(num)
				return num;

			},
			piece: function () {
				var num1 = 0
				for (var i = 0; i < this.cart.length; i++) {
					if (this.cart[i].isChecked) {
						num1 += this.cart[i].num
					}

				}
				return num1
			}
		},

	})

</script>

</html>